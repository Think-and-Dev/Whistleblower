# Whistleblower: AI-Powered System for Detecting License Plate Violations on Vehicles.

## Introduction

The project focuses on the development of an advanced image recognition system with artificial intelligence (AI) capabilities, integrated into the Cartesi infrastructure.
This project is being carried out by a team from [Think and Dev](https://thinkanddev.com/), a pioneering technology company focused on the development of highly complex systems using different state of the art technologies, like blockchain and AI.

**Whistleblower** is a decentralized application implemented using [Cartesi Rollups](https://github.com/cartesi/rollups) and was developed as part of Cartesi's grants program. You can find our comprehensive proposal by following this [link](https://governance.cartesi.io/t/ai-powered-system-for-detecting-license-plate-violations-on-vehicles/206/1).

## Project Description

The ultimate goal is to build an on-chain verifiable image recognition system using AI algorithms, which can run on the Cartesi virtual machine and whose results can be stored on the blockchain. The first use case of the system is to identify license plates of law-breaking vehicles, and it will store the identified license plate on the blockchain, ensuring irrefutable proof of the violation.

We provide full project documentation, open source code and pre-built wheels to encourage knowledge sharing and create an open source repository. We intend to leverage Cartesi's capabilities to solve real-life problems using cutting-edge technology. We will include pre-built Wheels to facilitate the installation and use of our software by the community.

We have developed a proof of concept (PoC) to showcase the capabilities of our AI-based traffic violation recognition system when run inside the Cartesi Machine. This shows the power of Cartesi running a trained model (using the YOLO object detection algorithm and character recognition systems) that can identify license plates in vehicle images. The proof-of-concept focuses on the practical application of Cartesi for real-time predictions, excluding the resource-intensive model training phase.

We also built a user-friendly interface that integrates the image input into the Cartesi machine. This interface is vital to ensure a smooth and secure process of processing and storing images, along with their associated license plate numbers, on the blockchain. We will ensure that anyone can easily retrieve this information by making a simple GraphQL query to the list of alerts generated by our Decentralized Application (DApp). This is a practical example of Cartesi's usefulness in improving accessibility and data management.

Our commitment to transparent documentation will empower developers and enthusiasts within the Cartesi community to comprehend and utilize the technology for diverse applications. By sharing our findings and experiences openly, we aim to catalyze discussions and knowledge-sharing within the Cartesi ecosystem, showcasing its potential for a wide range of projects beyond our traffic violation recognition system.

## How do we use Cartesi?

By leveraging Cartesi’s innovative Virtual Machine, the process of identifying the number plate of violating vehicles through AI models reaches new heights of efficiency and security. By executing the AI model within the Cartesi Virtual Machine, we ensure swift and accurate processing of data, enabling seamless identification of number plates.

One of the most significant advantages of employing Cartesi is its integration with the blockchain, where the results generated by the AI model are securely stored. This integration creates a tamper-resistant and unalterable record, establishing a level of transparency and trustworthiness that traditional systems cannot match. Embracing Cartesi technology empowers us to maintain a distinct and immutable trail of information, paving the way for enhanced accountability and reliability in the identification and management of violating vehicles.

The following diagram shows the workflow from the upload of the image to the application until the infraction is reported by the user. For the proof of concept, we have completed steps 1 through 6.

<img src="./assets/images/workflow.jpg" alt="image" width="400" />

1. The user uploads a photo of the vehicle in infraction to the App.
2. In the App the photo is transformed into bytes.
3. The encoded image is sent as input to the DApp via a payload.
4. The input data is analyzed through the execution of Python scripts that retrieve the image and process it to obtain the bounding box containing the license plate (object detection algorithm, YOLO) and the characters contained in it (character recognition algorithm, OCR).
5. The Notice generated by the DApp is obtained from the Cartesi node.
6. The coordinates of the box containing the license plate in the image together with the license plate number obtained are returned to the application.

In the future, the following steps will be included to complete the process:

7. The infraction notification is sent to the authority and, if possible, to the infractor.
8. The infractor can verify the computation and present a fraud proof if he/she found flaws. If the infractor doesn’t complain within a given challenging period (Cartesi’s dApp epoch), the computation is confirmed on-chain. In case the result is disputed, the Cartesi’s interactive dispute resolution system hops in and ensures the correct outcome.
9. Once the final results are obtained, the Notice is confirmed on-chain.

At a future stage, a voucher could be created that adds the user’s wallet to a smart contract, ensuring that, when the offender pays, payment is received directly by the complainant with an on-chain protocol. Using Cartesi vouchers, it could be possible to interact with base chain to ensure that the payment flow of the fine is also recorded on-chain.
